@startuml US05-SD-GetCurrentSession
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

participant ":BuildStationController" as CTRL
participant "ApplicationSession" as APP_SESSION
participant "appSession\n:ApplicationSession" as APP_SESSION_SINGLETON
participant "currentSession\n:UserSession" as CURRENT_SESSION

autonumber 18
-> CTRL : getCurrentUserSession()
autonumber 18.1
activate CTRL
    group Get User Session
        CTRL -> APP_SESSION : getInstance()
        activate APP_SESSION
            APP_SESSION --> CTRL : appSession
        deactivate APP_SESSION

        CTRL -> APP_SESSION_SINGLETON : getCurrentSession()
        activate APP_SESSION_SINGLETON
            APP_SESSION_SINGLETON --> CTRL : currentSession
        deactivate APP_SESSION_SINGLETON

        CTRL -> CURRENT_SESSION : getPlayer()
        activate CURRENT_SESSION
            CURRENT_SESSION --> CTRL : player
        deactivate CURRENT_SESSION
    end
    autonumber 19
    <-- CTRL : player
deactivate CTRL

@enduml